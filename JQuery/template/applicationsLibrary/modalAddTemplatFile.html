﻿<div class="modal-dialog modal-lgs editParams classGlbSel" id="mdlAddTemplateFile">
	<div class="modal-content">
		<div class="pageMask" data-bind="click: function () {editParams()}"></div>
		<div class="modal-header" id="mdlAddTempHeader">
			<button type="button" class="close" data-bind="visible:isEditTemplateAllowed,click:function(){cancelpopup($parent.unloadAddTemplatepopup)}" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<button type="button" class="close" aria-label="Close" data-bind="visible:isEditTemplateNotAllowed,click: function () {$parent.unloadTempPopup('unloadTemplate')}">
				<span aria-hidden="true">&times;</span>
			</button>
			<h4 class="modal-title" id="addParamTemplate"></h4>
		</div>
		<div class="modal-body" style="overflow:auto;" id="editTemplateInstanceBody">
			<ul id="treeBreadcrumb" data-bind="foreach:breadcrumbColl">
				<li>
					<span data-bind="text:LevelName"></span><span data-bind="visible:selectedInstanceName!='',text:(':'+selectedInstanceName)"></span>
				</li>
			</ul>
			<button type="button" class="btn btn-primary pull-right" data-i18n="qualifiers" data-bind="visible:isQualifiersApplicable,click:function(){openPopup('modalTemplateQualifiers')}" style="margin-bottom: 5px"></button>
			<div id="mainSplitter">
				<div id="treeSection" data-bind="visible:isMulitiInstanceFlag" style="height: 99% !important" class="splitter-panel">
					<!--<div class="porletHeader">Parameter Level</div>-->
					<div class="treeHolder">
						<script type="text/html" id="tree-node">
							<!--<li class="treeNodeCntr">
								<span class="node-toggle" data-bind="visible: expanded, click:function(){this.expanded(!this.expanded());}"><a class="icon_expanded"></a></span>
								<span class="node-toggle" data-bind="visible: collapsed, click:function(){this.expanded(!this.expanded());}"><a class="icon_collapsed"></a></span>
								<span class="nodeText" data-bind="text:LevelName, click:function(){$parents[Level()].onLevelClick($data);}"></span>
								<div data-bind="if: expanded" class="selectboxCntr">
									<ul data-bind="template: {name: 'tree-node', foreach: children}"></ul>
								</div>
							</li>-->
							<li class="treeNodeCntr" data-bind="if:((Level() < 2) || (Level() > 1 && parentInstanceId() > 0))">
								<span class="node-toggle" title="Collapse" data-bind="visible: expanded, click:function(){this.expanded(!this.expanded());}"><a class="icon_expanded"></a></span>
								<span class="node-toggle" title="Expand" data-bind="visible: collapsed, click:function(){this.expanded(!this.expanded());}"><a class="icon_collapsed"></a></span>
								<span class="nodeText" data-bind="css: { 'firstLevel' : Level() == 1 ,'lastLevel' : parentInstanceId() > 0 },text:LevelName, click:function($data,event){$parents[Level()].onClickLevel($data,event);}"></span>
								<div data-bind="visible: expanded" class="selectboxCntr">
									<div style="margin-right: 10px;" data-bind="visible: isMulti,if:(isMulti()&& dropdownCol().length >0)">
										<select style="min-width: 200px" class="chosen-select" data-bind="attr:{id:'treeCombo'+FormFileId()+'_'+Level()},chosen:dropdownCol(),optionsValue:'InstanceId',optionsCaption:'--Select--', optionsText:'Name',event: { change:function($data,event){$parents[Level()].onChangeSelect($data,event);}}"></select>
									</div>
									<ul data-bind="template: {name: 'tree-node', foreach: children}"></ul>
								</div>
							</li>
						</script>
						<ul data-bind="template: {name: 'tree-node', foreach: treeColl}" class="treeRoot"></ul>
					</div>
				</div>
				<div id="resultSectionTemplate" class="splitter-panel" data-bind="css: { 'versionClass' : versionFlag  }">
					<div class="tabpanelMainContent">
						<a class="btn btn-default moveTabLeft" id="moveATLeft" data-i18n="[title]Move left" data-bind="click:moveLeft"><i class="icon-angle-left"></i></a>
						<a class="btn btn-default moveTabRight" id="moveATRight" data-i18n="[title]Move right" data-bind="click:moveRight"><i class="icon-angle-right"></i></a>
						<div role="tabpanel" class="tabpanelDiv">
							<ul class="nav nav-tabs-custom" id="templateTabs" data-bind="foreach:templateXML" role="tablist">
								<li role="presentation" data-bind="css:{'active':$index()==0},  click:function(){$parents[0].onTabSelect(this);}">
									<div data-bind="if:String(Type).toUpperCase()!='GRID' && String(LevelClicked)!=''"><span class="tabMask"></span></div>
									<a data-bind="attr:{'href':'#templateTabNO'+$index()}" aria-controls="home" role="tab" data-toggle="tab" aria-expanded="true"><span data-bind="text:DisplayName,title:DisplayName"></span></a>
								</li>
							</ul>
						</div>
					</div>
					<div class="row hide" id="noContainerAccessDivTemplate">
						<div class="col-md-12">
							<div class="panel panel-white" id="noContainerAccessPanelTemplate">
								<div class="panel-body" style="margin-top:25% !important;text-align: center;">
									<div class="row">
										<div class="col-md-12">
											<span id="noContainerAccessSpan" data-i18n="you_do_not_have_access_to_add_new_instance" style="color:rgb(143,143,143);font-size:20px;"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<script id="ContainerElement" type="text/html">
						<div style="margin-left: 0px" data-bind="foreach:$data">
							<fieldset class="customFieldset">
								<legend style="border-bottom: 0px; width: auto; font-size: 15px" data-bind="text:DisplayName"></legend>
								<div class="row">
									<div data-bind="visible:$parent.isEditTemplateNotAllowed"><span class="viewMask"></span></div>
									<div class="col-md-6" data-bind="foreach:Param">
										<div class="form-group" data-bind="visible:AllowView">
											<label data-bind="text:DisplayName+' :',visible:(ValueType.Type!='Boolean' && ValueType.Type!='CheckBox')">URL</label>
											<span data-bind="visible:(ValueType.Type!='Boolean' && ValueType.Type!='CheckBox' && $data.PrimaryIdentifier =='True')" class="required">*</span>
											<div class="row">
												<div data-bind="if:ValueType.Type=='String'">
													<div class="col-md-10 pr0" style="margin-right: 10px;">
														<input type="text" class="form-control" data-bind="attr: { id: 'templateTxt' + ParamId, minlength:ValueType.String.MinLen, maxlength: ValueType.String.MaxLen }, event: { focusout: $component.focusOutMaskValue, focusin: $component.focusInMaskValue, 'keyup input': $component.checkTxtValue }, enable: AllowModify" autocomplete="off">
														<span class="error_tooltip" data-bind="text: ValueType.String.ErrorOnValidationFailure != undefined && ValueType.String.ErrorOnValidationFailure != '' ? ValueType.String.ErrorOnValidationFailure : (ValueType.String.MinLen != undefined && ValueType.String.MinLen != '' && ValueType.String.MinLen > 0 ? 'Enter the minimum length of characters defined in VPFX.' : 'The value is not matching the Valid Chars pattern defined in VPFX.')"></span>
													</div>
												</div>
												<div data-bind="if:ValueType.Type=='Enumeration'">
													<div class="col-md-10 pr0" style="margin-right: 10px;">
														<select class="chosen" data-bind="attr:{id:'templateCombo'+ParamId},event: { change:function(){$component.checkDllValue($data)}},chosen: ValueType.Enumeration.EnumItem, optionsValue:'Value', optionsText:'Name',optionsCaption:'--Select--',enable:AllowModify"></select>
													</div>
												</div>
												<div data-bind="if:ValueType.Type=='ReferenceEnumeration'">
													<div class="col-md-10 pr0" style="margin-right: 10px;">
														<select class="chosen" data-bind="attr:{id:'paramTemplateReferenceCombo'+ParamId},event: { change:function(){$component.checkReferenceEnumValue($data)}},chosen: ValueType.ReferenceEnumeration.ReferenceEnumItem, optionsValue:'Value',optionsCaption:'--Select--', optionsText:'Name',enable:AllowModify"></select>
													</div>
												</div>
												<div data-bind="if:ValueType.Type=='Numeric'">
													<div class="col-md-10 pr0" style="margin-right: 10px;">
														<div class="input-group spinner" data-trigger="spinner">
															<input type="number" data-bind="attr:{id:'templateNumeric'+ParamId,max:ValueType.Numeric.MaxVal,min:ValueType.Numeric.MinVal},event: { 'keyup mouseup':$component.validateNumber,'keydown':$component.isNumberKey},enable:AllowModify" style="width: 100% !important;text-align:left;" class="form-control">
															<div class="input-group-addon">
																<a href="javascript:;" class="spin-up" data-spin="up" data-bind="attr:{id:'templateNumericUp'+ParamId},click:$component.upNumber"><i class="icon-angle-up"></i></a>
																<a href="javascript:;" class="spin-down" data-spin="down" data-bind="attr:{id:'templateNumericDown'+ParamId},click:$component.downNumber"><i class="icon-angle-down"></i></a>
															</div>
														</div>
													</div>
												</div>
												<!--<div data-bind="if:ValueType.Type=='DateTime'">
													<div class="col-md-10 pr0" style="margin-right: 10px;">
														<input type="text" data-bind="attr:{id:'templateDate'+ParamId},event: { change: $component.checkDateValue},enable:AllowModify" class="form-control datepic-icon" placeholder="dd/MM/YYYY">
													</div>
												</div>-->
												<div data-bind="if:ValueType.Type=='DateTime'">
													<div class="col-md-10 pr0" style="margin-right: 10px">
														<div class="input-group date form_datetime" data-bind="attr:{id:'templateDate'+ParamId},event: { change: $component.checkDateValue},enable:AllowModify">
															<input class="form-control" data-bind="attr:{id:'templateInputDate'+ParamId}" type="text" readonly>
															<span class="input-group-addon"><span class="glyphicon glyphicon-remove" data-bind="event: { click: $component.clearDateParameter}"></span></span>
															<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
														</div>
													</div>
												</div>
												<div data-bind="if:(ValueType.Type=='Boolean' || ValueType.Type=='CheckBox')">
													<div class="col-md-10 pr0" style="margin-right: 10px;">
														<input type="checkbox" data-bind="attr:{id:'templateCheck'+ParamId},event:{change:$component.checkAddCheckboxValue},enable:AllowModify">
														<label data-bind="text:DisplayName" style="margin-left: 10px;"></label>
													</div>
												</div>
												<div data-bind="if:ValueType.Type=='File'">
													<div class="col-md-10" style="padding-left: 0px; padding-right: 0px; margin-right: 10px;">
														<div class="col-md-9" style="padding-right: 0px">
															<input type="text" class="form-control" style="width: 100%" data-bind="attr: { id: 'templateFile' + ParamId }, enable:false">
														</div>
														<div class="col-md-3" style="padding-left: 0px">
															<button type="button" class="btn btn-primary" style="height: 28px; padding-top: 2px !important" data-bind="event: {click:function(){$component.selectPackageFile('modelPackageFiles', $data)}}">Select</button>
														</div>
														<!--<div class="col-md-3">
															<div style="cursor:pointer;text-align:center;padding-top:5px;margin-left: -10px;float:left;"><a style="text-decoration: underline" title="Click to view the content" role="button">Preview</a></div>
														</div>-->
													</div>
												</div>
											</div>
											<div data-bind="if:(ValueType.Type!='String' && ValueType.Type!='Enumeration' && ValueType.Type!='ReferenceEnumeration' && ValueType.Type!='Numeric' && ValueType.Type!='DateTime' && ValueType.Type!='Boolean' && ValueType.Type!='CheckBox' && ValueType.Type!='File')">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<input type="text" class="form-control" maxlength="15" data-bind="event: { focusout: $parents[2].focusOutMaskValue, focusin: $parents[2].focusInMaskValue, 'keyup input': $parents[2].checkTxtValue }, attr: { 'placeholder': DisplayName, id: 'templateTxt' + ParamId }, enable: AllowModify" onblur="ckecktxtchanges(this)" autocomplete="off">
													<span class="error_tooltip" data-bind="text: ValueType.String.ErrorOnValidationFailure != undefined && ValueType.String.ErrorOnValidationFailure != '' ? ValueType.String.ErrorOnValidationFailure : 'The value is not matching the Valid Chars pattern defined in VPFX.'">The value is not matching the Valid Chars pattern defined in VPFX.</span>
												</div>
											</div>
											<div class="col-md-1 pl0">
												<a class="mmEdit btn btn-default btn-in" style="padding:1px 5px !important" data-bind="click:function(){$component.editValue($data)},visible:AllowModify" title="Edit"><i class="icon-pencil"></i></a>
											</div>
										</div>
									</div>
								</div>
								<div>
									<div data-bind="template: { name: 'ContainerElement', foreach: Container }">
									</div>
								</div>
							</fieldset>
						</div>
					</script>
					<!-- Sub Tabs -->
					<script id="subTabs" type="text/html">
						<div style="margin-left: 0px;margin-right: 10px" role="tabpanel" class="tab-pane" data-bind="attr:{id:'templateSubTabNO'+$index()},css:{'active':$index()==0},foreach:$data">
							<div data-bind="if:!AllowModify"><span class="viewMask"></span></div>
							<div data-bind="visible:$component.isEditTemplateNotAllowed"><span class="viewMask"></span></div>
							<div class="col-md-12" data-bind="foreach:Param">
								<div class="col-md-6 col-lg-4" data-bind="visible:AllowView">
									<div class="form-group">
										<label data-bind="text:DisplayName+' :',attr:{'title':'Name: '+DisplayName+'\n Description:'+Description},visible:(ValueType.Type!='Boolean' && ValueType.Type!='CheckBox')">URL</label>
										<span data-bind="visible:(ValueType.Type!='Boolean' && ValueType.Type!='CheckBox' && $data.PrimaryIdentifier =='True')" class="required">*</span>
										<div class="row">
											<div data-bind="if:ValueType.Type=='String'">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<input type="text" class="form-control" data-bind="attr: { id: 'templateTxt' + ParamId, minlength:ValueType.String.MinLen, maxlength: ValueType.String.MaxLen }, event: { focusout: $component.focusOutMaskValue, focusin: $component.focusInMaskValue, 'keyup input': $component.checkTxtValue }, enable: AllowModify" autocomplete="off">
													<span class="error_tooltip" data-bind="text: ValueType.String.ErrorOnValidationFailure != undefined && ValueType.String.ErrorOnValidationFailure != '' ? ValueType.String.ErrorOnValidationFailure : (ValueType.String.MinLen != undefined && ValueType.String.MinLen != '' && ValueType.String.MinLen > 0 ? 'Enter the minimum length of characters defined in VPFX.' : 'The value is not matching the Valid Chars pattern defined in VPFX.')"></span>
												</div>
											</div>
											<div data-bind="if:ValueType.Type=='Enumeration'">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<select class="chosen" data-bind="attr:{id:'templateCombo'+ParamId},event: { change:function(){$component.checkDllValue($data)}},chosen: ValueType.Enumeration.EnumItem, optionsValue:'Value',optionsCaption:'--Select--', optionsText:'Name',enable:AllowModify"></select>
												</div>
											</div>
											<div data-bind="if:ValueType.Type=='ReferenceEnumeration'">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<select class="chosen" data-bind="attr:{id:'paramTemplateReferenceCombo'+ParamId},event: { change:function(){$component.checkReferenceEnumValue($data)}},chosen: ValueType.ReferenceEnumeration.ReferenceEnumItem, optionsValue:'Value',optionsCaption:'--Select--', optionsText:'Name',enable:AllowModify"></select>
												</div>
											</div>
											<div data-bind="if:ValueType.Type=='Numeric'">
												<div class="col-lg-10 pr0" style="margin-right: 10px;">
													<div class="input-group spinner" data-trigger="spinner">
														<input type="number" data-bind="attr:{id:'templateNumeric'+ParamId,max:ValueType.Numeric.MaxVal,min:ValueType.Numeric.MinVal},event: {'keyup mouseup':$component.validateNumber,'keydown':$component.isNumberKey},enable:AllowModify" style="width: 100% !important;text-align:left;" class="form-control">
														<div class="input-group-addon">
															<a href="javascript:;" class="spin-up" data-spin="up" data-bind="attr:{id:'templateNumericUp'+ParamId},click:$component.upNumber"><i class="icon-angle-up"></i></a>
															<a href="javascript:;" class="spin-down" data-spin="down" data-bind="attr:{id:'templateNumericDown'+ParamId},click:$component.downNumber"><i class="icon-angle-down"></i></a>
														</div>
													</div>
												</div>
											</div>
											<!--<div data-bind="if:ValueType.Type=='DateTime'">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<input type="text" data-bind="attr:{id:'templateDate'+ParamId},event: { change: $component.checkDateValue},enable:AllowModify" class="form-control datepic-icon" placeholder="dd/MM/YYYY">
												</div>
											</div>-->
											<div data-bind="if:ValueType.Type=='DateTime'">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<div class="input-group date form_datetime" data-bind="attr:{id:'templateDate'+ParamId},event: { change: $component.checkDateValue},enable:AllowModify">
														<input class="form-control" data-bind="attr:{id:'templateInputDate'+ParamId}" type="text" readonly>
														<span class="input-group-addon"><span class="glyphicon glyphicon-remove" data-bind="event: { click: $component.clearDateParameter}"></span></span>
														<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
													</div>
												</div>
											</div>
											<div data-bind="if:(ValueType.Type=='Boolean' || ValueType.Type=='CheckBox')">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<input type="checkbox" class="alignChkbox" data-bind="attr:{id:'templateCheck'+ParamId,value:ParamValue},event:{change:$component.checkAddCheckboxValue},enable:AllowModify">
													<label data-bind="text:DisplayName,attr:{'title':'Name: '+DisplayName+'\n Description:'+Description}" style="margin-left: 10px;">URL</label>
												</div>
											</div>
											<div data-bind="if:ValueType.Type=='File'">
												<div class="col-md-10" style="padding-left: 0px; padding-right: 0px; margin-right: 10px;">
													<div class="col-md-9" style="padding-right: 0px">
														<input type="text" class="form-control" style="width: 100%" data-bind="attr: { id: 'templateFile' + ParamId}, enable:false">
													</div>
													<div class="col-md-3" style="padding-left: 0px">
														<button class="btn btn-primary" type="button" style="height: 28px; padding-top: 2px" data-bind="event: {click:function(){$component.selectPackageFile('modelPackageFiles', $data)}}">Select</button>
													</div>
													<!--<div class="col-md-3">
														<div style="cursor:pointer;text-align:center;padding-top:5px;margin-left: -10px;float:left;"><a style="text-decoration: underline" title="Click to view the content" role="button">Preview</a></div>
													</div>-->
												</div>
											</div>
											<div data-bind="if:(ValueType.Type!='String' && ValueType.Type!='Enumeration' && ValueType.Type!='ReferenceEnumeration' && ValueType.Type!='Numeric' && ValueType.Type!='DateTime' && ValueType.Type!='Boolean' && ValueType.Type!='CheckBox' && ValueType.Type!='File')">
												<div class="col-md-10 pr0" style="margin-right: 10px;">
													<input type="text" class="form-control" maxlength="15" data-bind="attr: { id: 'templateTxt' + ParamId }, event: { focusout: $component.focusOutMaskValue, focusin: $component.focusInMaskValue, 'keyup input': $component.checkTxtValue }, enable: AllowModify" autocomplete="off">
													<span class="error_tooltip" data-bind="text: ValueType.String.ErrorOnValidationFailure != undefined && ValueType.String.ErrorOnValidationFailure != '' ? ValueType.String.ErrorOnValidationFailure : 'The value is not matching the Valid Chars pattern defined in VPFX.'">The value is not matching the Valid Chars pattern defined in VPFX.</span>
												</div>
											</div>
											<div class="col-md-1 pl0">
												<a class="mmEdit btn btn-default btn-in " style="padding:1px 5px !important" data-bind="click:function(){$component.editValue($data)},visible:AllowModify" title="Edit"><i class="icon-pencil"></i></a>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div>
								<div data-bind="template: { name: 'ContainerElement', foreach: Container }">
								</div>
							</div>
						</div>
					</script>
					<!-- Tab panes -->
					<div class="tab-content vf-mm-tabcontent" data-bind="foreach:templateXML" id="instanceParametersDivTemplate">
						<div role="tabpanel" class="tab-pane" data-bind="attr:{id:'templateTabNO'+$index()},css:{'active':$index()==0}">
							<div class="p10">
								<div data-bind="foreach:Container">
									<div class="row" data-bind="if:String(Type).toUpperCase()=='DETAILS'">
										<form class="form-horizontal" role="form" id="instanceNameDivTemplate">
											<div class="form-group">
												<div class="col-md-6">
													<label for="inputType" class="control-label pull-left" style="margin-left:28px">Instance Name</label>
													<span class="required pull-left">*</span>
													<div class="col-sm-4">
														<input type="text" id="txtInstanceNameTemplate" data-bind="textInput: $parents[1].checkTxtEditInstanceName" class="form-control" maxlength="50">
													</div>
												</div>
											</div>
										</form>
										<div role="tabpanel" id="tabPanelDivTemplate">
											<ul class="nav nav-tabs-custom" data-bind="foreach:Container" role="tablist">
												<li role="presentation" data-bind="css:{'active':$index()==0}">
													<a data-bind="attr:{'href':'#templateSubTabNO'+$index()}" aria-controls="home" role="tab" data-toggle="tab" aria-expanded="true"><span data-bind="text:$data[0].DisplayName"></span></a>
												</li>
											</ul>
										</div>
										<div id="subContainerDivTemplate" class="tab-content" data-bind="template: { name: 'subTabs', foreach: Container }">
										</div>

										<div class="col-sm-12 vf-footer-in-div" style="background:white" id="MultiInstanceLevelContainerFooter">
											<div class="row pull-right" style="margin-right:0px">
												<button type="button" disabled id="saveInstanceDetailsBtn" data-bind="click:function(){$parents[1].setTemplateParameters()},visible:!$parents[1].isLocked()" class="btn btn-primary">Save Details</button>
												<button type="button" data-bind="click:function(){$parents[1].cancelTemplateParameters()}" class="btn btn-default">Cancel</button>
											</div>
										</div>
									</div>
									<div class="row" data-bind="if:(String(Type).toUpperCase()!='GRID' && String(Type).toUpperCase()!='DETAILS')">
										<div data-bind="visible:$component.isEditTemplateNotAllowed"><span class="viewMask"></span></div>
										<div class="col-md-12" data-bind="foreach:Param">
											<div class="col-md-6 col-sm-4" data-bind="visible:AllowView">
												<div class="form-group">
													<label data-bind="text:DisplayName+' :',visible:(ValueType.Type!='Boolean' && ValueType.Type!='CheckBox')">URL</label>
													<span data-bind="visible:(ValueType.Type!='Boolean' && ValueType.Type!='CheckBox' && $data.PrimaryIdentifier =='True')" class="required">*</span>
													<div class="row">
														<div data-bind="if:ValueType.Type=='String'">
															<div class="col-sm-9 pr0" style="margin-right: 10px;">
																<input type="text" class="form-control" data-bind="event: { focusout: $parents[2].focusOutMaskValue, focusin: $parents[2].focusInMaskValue, 'keyup input': $parents[2].checkTxtValue }, attr: { 'placeholder': DisplayName, id: 'templateTxt' + ParamId, minlength:ValueType.String.MinLen, maxlength: ValueType.String.MaxLen }, enable: AllowModify" onblur="ckecktxtchanges(this)" autocomplete="off">
																<span class="error_tooltip" data-bind="text: ValueType.String.ErrorOnValidationFailure != undefined && ValueType.String.ErrorOnValidationFailure != '' ? ValueType.String.ErrorOnValidationFailure : (ValueType.String.MinLen != undefined && ValueType.String.MinLen != '' && ValueType.String.MinLen > 0 ? 'Enter the minimum length of characters defined in VPFX.' : 'The value is not matching the Valid Chars pattern defined in VPFX.')"></span>
															</div>
														</div>
														<div data-bind="if:ValueType.Type=='Enumeration'">
															<div class="col-sm-9 pr0" style="margin-right: 10px;">
																<select class="chosen" data-bind="attr:{id:'templateCombo'+ParamId},event: { change:function(){$parents[2].checkDllValue($data)}},chosen: ValueType.Enumeration.EnumItem, optionsValue:'Value', optionsText:'Name',optionsCaption:'--Select--',enable:AllowModify"></select>
															</div>
														</div>
														<div data-bind="if:ValueType.Type=='ReferenceEnumeration'">
															<div class="col-sm-9 pr0" style="margin-right: 10px;">
																<select class="chosen" data-bind="attr:{id:'paramTemplateReferenceCombo'+ParamId},event: { change:function(){$parents[2].checkReferenceEnumValue($data)}},chosen: ValueType.ReferenceEnumeration.ReferenceEnumItem, optionsValue:'Value', optionsText:'Name',optionsCaption:'--Select--',enable:AllowModify"></select>
															</div>
														</div>
														<div data-bind="if:ValueType.Type=='Numeric'">
															<div class="col-md-9 pr0" style="margin-right: 10px;">
																<div class="input-group spinner" data-trigger="spinner">
																	<input type="number" data-bind="attr:{id:'templateNumeric'+ParamId,max:ValueType.Numeric.MaxVal,min:ValueType.Numeric.MinVal},event: { 'keyup mouseup':$parents[2].validateNumber,'keydown':$parents[2].isNumberKey},enable:AllowModify" style="width: 100% !important;text-align:left;" class="form-control">
																	<div class="input-group-addon">
																		<a href="javascript:;" class="spin-up" data-spin="up" data-bind="attr:{id:'templateNumericUp'+ParamId},click:$parents[2].upNumber"><i class="icon-angle-up"></i></a>
																		<a href="javascript:;" class="spin-down" data-spin="down" data-bind="attr:{id:'templateNumericDown'+ParamId},click:$parents[2].downNumber"><i class="icon-angle-down"></i></a>
																	</div>
																</div>
															</div>
														</div>
														<!--<div data-bind="if:ValueType.Type=='DateTime'">
															<div class="col-sm-9 pr0" style="margin-right: 10px;">
																<input type="text" data-bind="attr:{id:'templateDate'+ParamId},event: { change: $parents[2].checkDateValue},enable:AllowModify" class="form-control datepic-icon" placeholder="dd/MM/YYYY">
															</div>
														</div>-->
														<div data-bind="if:ValueType.Type=='DateTime'">
															<div class="col-sm-9 pr0" style="margin-right: 10px; margin-bottom:-18px;">
																<div class="input-group date form_datetime" data-bind="attr:{id:'templateDate'+ParamId},event: { change: $parents[2].checkDateValue},enable:AllowModify">
																	<input class="form-control" data-bind="attr:{id:'templateInputDate'+ParamId}" type="text" readonly>
																	<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
																</div>
															</div>
														</div>
														<div data-bind="if:(ValueType.Type=='Boolean' || ValueType.Type=='CheckBox')">
															<div class="col-sm-9 pr0" style="margin-right: 10px;">
																<input type="checkbox" data-bind="attr:{id:'templateCheck'+ParamId},event:{change: $parents[2].checkAddCheckboxValue},enable:AllowModify">
																<label data-bind="text:DisplayName" style="margin-left: 10px;">URL</label>
															</div>
														</div>
														<div data-bind="if:ValueType.Type=='File'">
															<div class="col-sm-9" style="padding-left: 0px; padding-right: 0px; margin-right: 10px;">
																<div class="col-sm-9" style="padding-right: 0px">
																	<input type="text" class="form-control" style="width: 100%" data-bind="attr: { id: 'templateFile' + ParamId}, value: ParamValue, enable:false">
																</div>
																<div class="col-sm-3" style="padding-left: 0px">
																	<button class="btn btn-primary" type="button" style="height: 28px; padding-top: 2px" data-bind="event: {click:function(){$parents[2].selectPackageFile('modelPackageFiles', $data)}}">Select</button>
																</div>
																<!--<div class="col-md-3">
																	<div style="cursor:pointer;text-align:center;padding-top:5px;margin-left: -10px;float:left;"><a style="text-decoration: underline" title="Click to view the content" role="button">Preview</a></div>
																</div>-->
															</div>
														</div>
														<div data-bind="if:(ValueType.Type!='String' && ValueType.Type!='Enumeration' && ValueType.Type!='ReferenceEnumeration' && ValueType.Type!='Numeric' && ValueType.Type!='DateTime' && ValueType.Type!='Boolean' && ValueType.Type!='CheckBox' && ValueType.Type!='File')">
															<div class="col-sm-9 pr0" style="margin-right: 10px;">
																<input type="text" class="form-control" maxlength="15" data-bind="event: { focusout: $parents[2].focusOutMaskValue, focusin: $parents[2].focusInMaskValue, 'keyup input': $parents[2].checkTxtValue }, attr: { 'placeholder': DisplayName, id: 'templateTxt' + ParamId }, enable: AllowModify" onblur="ckecktxtchanges(this)" autocomplete="off">
																<span class="error_tooltip" data-bind="text: ValueType.String.ErrorOnValidationFailure != undefined && ValueType.String.ErrorOnValidationFailure != '' ? ValueType.String.ErrorOnValidationFailure : 'The value is not matching the Valid Chars pattern defined in VPFX.'">The value is not matching the Valid Chars pattern defined in VPFX.</span>
															</div>
														</div>
														<div class="col-sm-1 pl0" style="margin-right: 10px;">
															<a class="mmEdit btn btn-default btn-in" style="padding:1px 5px !important" data-bind="click:$parents[2].restoredValue" data-i18n="[title]restore_to_default" title="Restore To Default"><i class="icon-restoredefault"></i></a>
														</div>
														<div class="col-sm-1 pl0">
															<a class="mmEdit btn btn-default btn-in" style="padding:1px 5px !important" data-bind="click:$parents[2].clearParamValue" data-i18n="[title]clear_param_value" title="Clear Value"><i class="icon-times-circle"></i></a>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div>
											<div data-bind="template: { name: 'ContainerElement', foreach: Container }"></div>
										</div>
										<div class="col-sm-12 vf-footer-in-div hide" style="background:white" id="nonMultiInstanceLevelContainerFooter">
											<div class="row pull-right" style="margin-right:0px">
												<button type="button" disabled id="saveInstanceDetailsBtn" data-bind="click:function(){$parents[1].setTemplateParameters()}" class="btn btn-primary">Save Details</button>
												<button type="button" id="cancelInstanceDetailsBtn" data-bind="click:function(){$parents[1].cancelTemplateParameters()}" class="btn btn-default">Cancel</button>
											</div>
										</div>
									</div>
									<div class="row" data-bind="if:String(Type).toUpperCase()=='GRID'">
										<div class="col-md-12">
											<div class="row">
												<div class="col-md-12">
													<div class="pull-right btn-mg">
														<a title="Add" tabindex="1" class="btn btn-default" id="btnAddElement" role="button" data-bind="css: { disabled: !AllowAdd},click:function(){$parents[1].openPopup('modelAddTemplateAppLevelInstance')},visible:!$parents[1].isLocked()"><i class="icon-plus"></i></a>
														<a title="Edit" tabindex="2" class="btn btn-default" id="btnEditElement" role="button" data-bind="css: { disabled: !AllowEdit},click:function(){$parents[1].editInstance('jqxgridtemplateparameterdetails')},visible:!$parents[1].isLocked()"><i class=" icon-pencil"></i></a>
														<a title="Delete" tabindex="3" class="btn btn-default" id="btnDeleteElement" role="button" data-bind="css: { disabled: !AllowDelete},click:function(){$parents[1].deleteInstances()},visible:!$parents[1].isLocked()"><i class="icon-bin"></i></a>
														<!--<a id="moveUpBtn" class="btn btn-default angletop" data-bind="css: { disabled: ($parents[1].sequenceNavUp())},click:function(){$parents[1].moveItemsUP()}"><b class="icon-angle-right "> </b></a>
														<a id="moveDownBtn" class="btn btn-default anglebottom" data-bind="css: { disabled: ($parents[1].sequenceNavDown())},click:function(){$parents[1].moveItemsDown()}"><b class="icon-angle-right"></b></a>-->
													</div>
												</div>
											</div>
											<div class="grid-area">
												<div id="jqxgridtemplateparameterdetails" style="width: 100%"></div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer" id="baselevelTemplateFooter">
			<div class="row templatefooter">
				<div class="col-md-6">
					<label for="exampleInputPassword1" data-i18n="p_t_add_name">
					</label>
					<span class="required">*</span>
					<i class="icon-lock" data-i18n="[title]pt_lock_msg" id="ptLockIcon" style="display: none;"></i>
            		<i class="icon-unlocked" data-i18n="[title]pt_unlock_msg" id="ptUnlockIcon" style="display: none;"></i>
					<input type="text" id="txtTemplateName" data-bind="textInput: checkTxtTemplateName" class="form-control" maxlength="50">
				</div>
				<div class="col-md-6 pl0">
					<label for="exampleInputPassword1" data-i18n="sec_grp_desc">
					</label>
					<textarea id="txtDescription" class="form-control" rows="3" data-bind="event:{'keyup':handleDescriptionChange}" maxlength="255"></textarea>
				</div>
			</div>
			<button type="button" disabled id="btnAddTemplate" data-bind="click:function(){addTemplate($parent.unloadAddTemplatepopup)},visible:!isLocked()" class="btn btn-primary"></button>
			<button class="btn btn-default" type="button" data-i18n="cancel" data-bind="visible:isEditTemplateAllowed,click:function(){cancelpopup($parent.unloadAddTemplatepopup)}"></button>
			<button class="btn btn-default" type="button" data-i18n="cancel" data-bind="visible:isEditTemplateNotAllowed,click: function () {$parent.unloadTempPopup('unloadTemplate')}"></button>
		</div>
	</div>
</div>
<div id="slidePanel" class="classGlbSel pointerEventsAll">
	<div class="header"><h4 class="slider-title" id="editParamValueHeader"></h4></div>
	<div id="txtControlDiv">
		<div class="row">
			<div class="col-md-10 pl8">
				<div class="col-md-12">
					<div id="txtDiv" class="form-group">
						<label for="txtValue" data-i18n="value_user"></label>
						<input type="text" style="width: 357px" id="txtValue" data-bind="textInput: templateTxtValue,disable:editAccessValue()=='View', event: { focusout: $component.focusOutSlidePanel, focusin: $component.focusInSlidePanel }" class="form-control" tabindex="5" autocomplete="off">
						<span id="txtValueSpanDevProf" class="error-v animated fadeIn"></span>
					</div>
					<div id="ddlDiv" class="form-group">
						<label for="ddlValue" data-i18n="value_user"></label>
						<select class="chosen" id="ddlValue" data-bind="chosen: paramDllData, optionsValue:'Value',event: { change:function(){checkEditDllValue()}}, optionsCaption:'--Select--',optionsText:'Name',disable:editAccessValue()=='View'"></select>
					</div>
					<div id="numericDiv" class="form-group">
						<label for="exampleInputPassword1" data-i18n="value_user"></label>
						<div class="input-group spinner" data-trigger="spinner" style="width:120px !important">
							<input type="number" id="txtnumericValue" style="width:100px !important;float:left" data-bind="event: {'keydown':isNumberKey},disable:editAccessValue()=='View'" class="form-control">
							<div class="input-group-addon">
								<a href="javascript:;" class="spin-up" data-spin="up" data-bind="click:upNumberPval,css: { disabled: editAccessValue()=='View' }"><i class="icon-angle-up"></i></a>
								<a href="javascript:;" class="spin-down" data-spin="down" data-bind="click:downNumberPval,css: { disabled: editAccessValue()=='View' }"><i class="icon-angle-down"></i></a>
							</div>
						</div>
					</div>
					<div id="DateDiv" class="form-group">
						<label for="txtDateValue" data-i18n="value_user"></label>
						<!--<div>
							<input type="text" id="txtDateValue" data-bind="textInput: templateTxtValue,disable:editAccessValue()=='View'" class="form-control datepic-icon" placeholder="dd/MM/YYYY">
						</div>-->
						<div class="input-group date form_datetime" id="txtDateValue" data-bind="disable:editAccessValue()=='View'">
							<input class="form-control" id="txtDateInputValue" data-bind="textInput: templateTxtValue" type="text" readonly>
							<span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
							<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
						</div>
					</div>
					<div id="CheckboxDiv" class="form-group">
						<div class="col-md-12" style="margin: 10px -14px;">
							<input type="checkbox" class="alignChkbox" id="checkBoxValue" data-bind="event:{change:templateCheckValue},checked:pramvaluforcheckbox,disable:editAccessValue()=='View'">
							<span id="editCheckboxlabel" class="hidden-xs" style="max-width:250px"></span>
						</div>
					</div>
					<div class="form-group">
						<label for="txtDefaultValue" data-i18n="default_value"></label>
						<input type="text" id="txtDefaultValue" style="width: 357px" class="form-control" maxlength="20" tabindex="5" readonly="true">
					</div>
					<div class="form-group">
						<label for="txtsourceValue" data-i18n="source_type"></label>
						<input type="text" id="txtsourceValue" style="width: 357px" class="form-control" maxlength="20" tabindex="5" readonly="true">
					</div>
					<div class="form-group">
						<label for="txtDescriptionValue" data-i18n="edit_param_Desc"></label>
						<input type="text" id="txtDescriptionValue" style="width: 357px" class="form-control" maxlength="20" tabindex="5" readonly="true">
					</div>
					<div id="validationDiv" class="form-group">
						<label for="txtvalidationValue" data-i18n="validation_rule"></label>
						<!--<label for="exampleInputPassword1" id="txtvalidationValue" data-i18n="validation_rule"></label>-->
						<input type="text" id="txtvalidationValue" style="width: 357px" class="form-control" maxlength="20" tabindex="5" readonly="true">
					</div>
				</div>
			</div>
		</div>
		<div class="srcBtnCntr">
			<button type="button" id="btnRestDefault" data-bind="click:SetDefaultApplicationParameterValue,css: { disabled: editAccessValue()=='View' }" data-i18n="rest_to_default" class="btn btn-primary"></button>
			<!--<button type="button" id="btnRestTempValue" data-bind="click:getParameterValuesFromTemplateAtAppLevel,css: { disabled: editAccessValue()=='View' }" data-i18n="rest_to_temp_value" class="btn btn-primary hide"></button>-->
		</div>
	</div>
	<div id="footer">
		<div class="sliderActions">
			<button type="button" id="btnSaveSelectedPvalue" data-i18n="apply" data-bind="click:SetDeviceParameterValue,css: { disabled: editAccessValue()=='View' }" class="btn btn-primary"></button>
			<button type="button" id="btnCancel" data-i18n="cancel" data-bind="click:hideEditPramDiv" class="btn btn-default">Close</button>
		</div>
	</div>
</div>

<!---confirmation---->
<div class="modal" id="TemplateConfirmPopup" style="z-index: 9999" data-keyboard="true" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
	<div class="vertical-alignment-helper">
		<div class="modal-dialog vertical-align-center modal-mm m-alarts">
			<div class="modal-content">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-2 pr0">
							<div class="alart-icons">
								<i class="icon-confirmation c-green"></i>
							</div>
						</div>
						<div class="col-md-10 pl8">
							<h4 class="modal-title c-green" data-i18n="confirmation_title"></h4>
							<span data-i18n="changes_discarded"></span>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button id="TemplateConfirmPopup_Confo_Yes" type="button" class="btn btn-success" data-i18n="btn_YES" data-bind="click:function(){confirmUndoChanges($parent.unloadAddTemplatepopup)}"></button>
					<button id="TemplateConfirmPopup_Confo_No" type="button" class="btn btn-default" data-i18n="btn_NO" data-bind="click:cancelconfirmation"></button>
				</div>
			</div>
		</div>
	</div>
</div>
<!-----end-->
<div class="modal" id="DeleteInstanceConfirmPopup" style="z-index:9999" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
	<div class="vertical-alignment-helper">
		<div class="modal-dialog vertical-align-center modal-mm m-alarts">
			<div class="modal-content">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-2 pr0">
							<div class="alart-icons">
								<i class="icon-confirmation c-green"></i>
							</div>
						</div>
						<div class="col-md-10 pl8">
							<h4 class="modal-title c-green" data-i18n="confirmation_title"></h4>
							<span id="DeleteInstanceText"></span>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button id="DeleteInstanceConfirmPopup_Confo_Yes" type="button" class="btn btn-success" data-i18n="btn_YES" data-bind="click:function(){confirmDeleteInstance()}"></button>
					<button id="DeleteInstanceConfirmPopup_Confo_No" type="button" class="btn btn-default" data-i18n="btn_NO" data-bind="click:function(){cancelDeleteInstance()}"></button>
				</div>
			</div>
		</div>
	</div>
</div>
<!---confirmation---->
<div class="modal" id="EditParameterConfirmPopup" style="z-index:9999" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
	<div class="vertical-alignment-helper">
		<div class="modal-dialog vertical-align-center modal-mm m-alarts">
			<div class="modal-content">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-2 pr0">
							<div class="alart-icons">
								<i class="icon-confirmation c-green"></i>
							</div>
						</div>
						<div class="col-md-10 pl8">
							<h4 class="modal-title c-green" data-i18n="confirmation_title"></h4>
							<span data-i18n="changes_discarded"></span>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button id="TemplateConfirmPopup_Confo_Yes" type="button" class="btn btn-success" data-i18n="btn_YES" data-bind="click:function(){confirmNavigation(confirmInstance(),confirmTarget())}"></button>
					<button id="TemplateConfirmPopup_Confo_No" type="button" class="btn btn-default" data-i18n="btn_NO" data-bind="click:function(){cancelInstanceConfirmation(confirmInstance(),confirmTarget())}"></button>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal" id="EditSequenceConfirmPopup" style="z-index:9999" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
	<div class="vertical-alignment-helper">
		<div class="modal-dialog vertical-align-center modal-mm m-alarts">
			<div class="modal-content">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-2 pr0">
							<div class="alart-icons">
								<i class="icon-confirmation c-green"></i>
							</div>
						</div>
						<div class="col-md-10 pl8">
							<h4 class="modal-title c-green" data-i18n="confirmation_title"></h4>
							<span data-i18n="Sequence_changes_discarded"></span>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button id="SequenceConfirmPopup_Confo_Yes" type="button" class="btn btn-success" data-i18n="btn_YES" data-bind="click:function(){confirmSaveSequence(confirmInstance(),confirmTarget())}"></button>
					<button id="SequenceConfirmPopup_Confo_No" type="button" class="btn btn-default" data-i18n="btn_NO" data-bind="click:function(){cancelSaveSquence(confirmInstance(),confirmTarget())}"></button>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal bs-example-modal-lg addInstance" id="modelAddAppLevelInstance" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="vertical-alignment-helper">
		<div class="vertical-align-center">
			<div data-bind="if: templateFlag">
				<div data-bind='component:observableModelPopup'>
				</div>
			</div>
		</div>
	</div>
</div>
<!-----------------Warning Message--------------->
<div class="modal" id="WarningPopupForTemplate" style="z-index: 9999" data-keyboard="true" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
	<div class="vertical-alignment-helper">
		<div class="modal-dialog vertical-align-center modal-mm m-alarts">
			<div class="modal-content">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-2 pr0">
							<div class="alart-icons">
								<i class="icon-warning c-red"></i>
							</div>
						</div>
						<div class="col-md-10 pl8">
							<h4 class="modal-title c-red" data-i18n="warning_title"></h4>
							<span data-i18n="Parameter_Template_update_warning"></span>
						</div>
					</div>

				</div>
				<div class="modal-footer">
					<button id="WarningPopup_Confo_Yes" type="button" class="btn btn-danger" data-i18n="btn_YES" data-bind="click:function(){addTemplateWithWarning($parent.unloadAddTemplatepopup)}"></button>
					<button id="WarningPopup_Confo_No" type="button" class="btn btn-default" data-i18n="btn_NO" data-bind="click:cancelWarningForTemplateUpdate"></button>
				</div>
			</div>
		</div>
	</div>
</div>


